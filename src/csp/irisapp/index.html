<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Mock - Simulacao de Servico</title>
    <link rel="stylesheet" href="/csp/irisapp/style.css">
    <link rel="stylesheet" href="/csp/irisapp/toast.css">
    <link rel="stylesheet" href="/csp/irisapp/modal.css">
    <script src="/csp/irisapp/script.js"></script>
    <script src="/csp/irisapp/toast.js"></script>
    <script src="/csp/irisapp/modal.js"></script>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="https://en.wikipedia.org/wiki/Mockingbird" target="_blank"><img src="/csp/irisapp/assets/mocking-bird.png" alt="IRIS Mock Server" class="logo"></a>
            <h1>IRIS Mock Server</h1>
        </div>
    </header>
    
    <div id="toastContainer" class="toast-container"></div>

    <div class="container">
        <div class="buttons">
            <button id="clearButton" onclick="clearForm()" hidden="true">Clear</button>
            <button id="newButton" onclick="newForm()">New</button>
            <button id="saveButton" onclick="saveForm()" hidden="true">Save</button>
            <button id="searchButton" onclick="searchForm()">Search</button>
        </div>

        <div class="field-group" id="codeGroup">
            <label for="code">Code:</label>
            <input type="text" id="code" name="code">
        </div>

        <div class="field-group" id="protocolGroup">
            <label for="protocol">Protocol:</label>
            <select id="protocol">
                <option value="" disabled selected>Select a protocol</option>
            </select>
        </div>

        <div class="field-group" id="systemGroup">
            <label for="system">System:</label>
            <input type="text" id="system" placeholder="Name of the system to be simulated.">
        </div>

        <div class="field-group" id="pathGroup">
            <label for="path">Path:</label>
            <div class="path-wrapper">
                <span id="partOfPathId"></span>
                <input type="text" id="path" placeholder="Digite o restante do path...">
                <button id="copyPathButton" type="button" onclick="copyPath()">Copy</button>
            </div>
        </div>
        
        <div class="field-group" id="soapActionGroup">
            <label for="soapAction">SOAP Action:</label>
            <input type="text" id="soapAction" name="soapAction" placeholder="SOAP Action for the service.">
        </div>

        <div class="field-group" id="operationGroup">
            <label for="operation">Operation:</label>
            <input type="text" id="operation" name="operation" placeholder="Operation for the service.">
        </div>
        
        <div class="field-group" id="actionGroup">
            <label for="action">Action:</label>
            <select id="action">
                <option value="" disabled selected>Select an action</option>
            </select>
        </div>

        <div class="field-group" id="statusHttpGroup">
            <label for="statusHttp">Status HTTP:</label>
            <select id="statusHttp">
                <option value="" disabled selected>Select a status</option>
            </select>
        </div>

        <div class="field-group" id="descriptionGroup">
            <label for="description">Description:</label>
            <input type="text" id="description" placeholder="Description of the service.">
        </div>

        <div class="field-group" id="contentTypeGroup">
            <label for="contentType">ContentType:</label>
            <input type="text" id="contentType">
        </div>

        <div class="field-group" id="responseGroup">
            <label for="response">Response:</label>
            <textarea id="response" placeholder="Body of the simulated response in JSON, XML etc."></textarea>
        </div>

        <div class="field-group" id="activeGroup">
            <fieldset class="active-fieldset">
                <legend>Mock is active:</legend>
                <div class="radio-group">
                    <label><input type="radio" name="active" value="1" checked> Active</label>
                    <label><input type="radio" name="active" value="0"> Inactive</label>
                </div>
            </fieldset>
        </div>
    </div>

    <div id="searchModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <a href="https://en.wikipedia.org/wiki/Mockingbird" target="_blank"><img src="/csp/irisapp/assets/mocking-bird.png" alt="IRIS Mock Server" class="logo"></a>
                <h2>Search Mocks</h2>
                <button class="modal-close" onclick="closeSearchModal()">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="search-filters">
                    <div class="filter-row">
                        <div class="filter-group">
                            <label for="filterSystem">System:</label>
                            <input type="text" id="filterSystem" placeholder="Filter by system..." onkeyup="filterMocks()">
                        </div>
                        <div class="filter-group">
                            <label for="filterProtocol">Protocol:</label>
                            <select id="filterProtocol" onchange="filterMocks()">
                                <option value="">All</option>
                                <option value="REST">REST</option>
                                <option value="SOAP">SOAP</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="filterAction">Action:</label>
                            <select id="filterAction" onchange="filterMocks()">
                                <option value="">All</option>
                                <option value="GET">GET</option>
                                <option value="POST">POST</option>
                                <option value="PUT">PUT</option>
                                <option value="DELETE">DELETE</option>
                                <option value="PATCH">PATCH</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="filterSituation">Situation:</label>
                            <select id="filterSituation" onchange="filterMocks()">
                                <option value="">All</option>
                                <option value="1">Active</option>
                                <option value="0">Inactive</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="search-results">
                    <div class="results-header">
                        <span id="resultsCount">0 mocks found</span>
                        <button class="refresh-btn" onclick="refreshSearchResults()" title="Refresh">&#8635</button>
                    </div>
                    
                    <div class="results-table-container">
                        <table id="mocksTable" class="results-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>System</th>
                                    <th>Protocol</th>
                                    <th>Path</th>
                                    <th>Action</th>
                                    <th>SOAP Action</th>
                                    <th>Description</th>
                                    <th>Situation</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="mocksTableBody">
                            </tbody>
                        </table>
                    </div>
                    
                    <div id="loadingIndicator" class="loading-indicator">
                        <div class="spinner"></div>
                        <span>Loading mocks...</span>
                    </div>
                    
                    <div id="noResults" class="no-results">
                        <span>No mock found</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
